---
layout: post
title: 硬件基础知识
category: kernel
typora-root-url: ../..
---

### EFI, UEFI, BIOS

* BIOS是一组固化到计算机内主板上一个ROM芯片上的程序, 用于硬件自检.
* EFI是英特尔公司推出的一种在未来的类PC的电脑系统中替代BIOS的升级方案, UEFI是其图形化现实方式

### MBR, GPT

* MBR(master boot record)位于整个磁盘的第一个扇区446~510字节间, 记录整个磁盘的分区信息. **这个在nymph的bootloader/stage1.asm**中可以看出, 446~510字节间就是由fdisk来填充MBR分区信息

  需要注意的问题：

  1. 主分区和扩展分区最多只有四个
  2. 扩展分区最多只能有一个
  3. 逻辑分区是由扩展分区持续切割出来的分区
  4. 只有主分区和逻辑分区才能被格式化作为数据访问的分区
  5. Linux系统默认将前4个序号作为主分区或扩展分区，而逻辑分区的序号肯定从5开始

* GPT分区表位于磁盘的逻辑扇区第2-33号扇区，一共占用32个扇区，能够容纳128 (4*32)个分区表项。每个分区表项大小为128字节，所以Windows系统允许GPT磁盘创建128个主分区。
  分区表项中记录着分区的起始，结束地址，分区类型的GUID，分区的名字，分区属性和分区GUID。
  所以说除了MBR之外首尾还各需要33个扇区。手动分区的时候要特别注意尾部留空。