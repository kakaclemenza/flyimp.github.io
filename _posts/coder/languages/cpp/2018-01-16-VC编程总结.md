---
layout: post
title: VC编程总结
category: coder
---

### 可恶的VC
鬼使神差的, 我也要使用VC编程了. 主要是要维护一个跨平台的 SDK, 前辈们使用 VS2013 作为开发环境的. 好吧, 就体验一下VC编程有多少槽点吧

### 查看dll的数字签名
右键该dll--属性--数字签名

### VS 的"预编译头"选项
在DXUT.cpp里include一次DXUT.h，生成一次pch，pdb文件，其他地方实际上直接用这个编译的结果，从而减少编译时间，提高编译效率。一般，我们把常用的不变的库头文件放里面，如，atlbase.h，atlcore.h，windows.h等，通常的com里import进来的dll，tlb也放这个里面，这样，它能做到，只编译一次，其他地方直接用编译出的结果。

如果预编译头文件被正确使用时，它确实大大提高我们编程的效率（你工作中，有多少时间是在等编译完成？很多吧，这个时候一般都很无聊，无奈，浪费时间）。但是他太容易用错了

（1）第一步，创建stdafx.h 和 stdafx.cpp, 将常用的头文件放入stdafx.h中(一般选择稳定的头文件，因为编译产生预编译头时间比较长)，在stdafx.cpp中添加代码  
（2）第二步，右击工程属性=》配置属性=》c/c++ =》预编译头，选择使用预编头， "通过文件创建/使用PCH"填写 stdafx.h  
（3）第三步，右击stdafx.cpp属性，配置属性=》c/c++ =》预编译头，选择创建预编译头，"通过文件创建/使用PCH"填写 stdafx.h  
当然，也可以用自己的文件作为预编译头，步骤和上面基本相同，只不过需要把stdafx.h改成自己的头文件假设为header.h，然后在header.cpp里
`#include "header.h"`，最后在工程的每个cpp文件的第一行加上`#include "header.h"`即可

### visual studio中头文件和库文件路径设置
步骤A: 添加头文件所在的目录

步骤A-1: 依次打开“项目——属性——配置属性——C++——常规——附加包含目录”中加入所有的路径。  
这里需要注意的是：  
（1）路径必须指向头文件所在的子文件夹，而不能直到父文件夹就结束  
（2）每个路径不需要加上双引号，输入了之后，vs2008会自动加上双引号，如果自己加可能vs2008无法识别双引号  
（3）如果是多个路径，路径直接用“；”隔开。  

步骤B: 添加库（libs）文件目录和lib文件名

除了头文件以外，也需要告诉编译器，类在哪里实现的，即封装类的链接库在哪里，这样程序才能执行工具包中的函数。首先需要将链接库的路径输入vs2008，即添加库（libs）文件目录。

步骤B-1：依次打开“项目——属性——配置属性——链接器——常规——附加库目录”中加入链接库的路径。   
步骤B-2：添加所需“库文件”名称，即添加编译所需要（依赖）的 lib 文件 。在“项目——属性——配置属性——链接器——常规——输入——附加依赖项”中加入链接库的名字，多个lib用空格隔开。（等同于“#pragma comment(lib, “xxx.lib”) ”语句）。

### 
